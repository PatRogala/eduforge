-# Programming task form
= fields_for :programming_task, @lesson.programming_task || ProgrammingTask.new do |task_form|
  .space-y-6
    %div
      = task_form.label :initial_code, class: "block text-sm font-medium leading-6 text-gray-900"
      .mt-2
        = task_form.text_area :initial_code,
          class: "block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",
          rows: 5,
          placeholder: t('.initial_code_placeholder')
      %p.mt-2.text-sm.text-gray-500= t('.initial_code_hint')

    %div
      = task_form.label :solution_code, class: "block text-sm font-medium leading-6 text-gray-900"
      .mt-2
        = task_form.text_area :solution_code,
          class: "block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",
          rows: 5,
          placeholder: t('.solution_code_placeholder')
      %p.mt-2.text-sm.text-gray-500= t('.solution_code_hint')

    %div
      = task_form.label :test_cases, class: "block text-sm font-medium leading-6 text-gray-900"
      .mt-2
        = task_form.text_area :test_cases,
          class: "block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",
          rows: 5,
          placeholder: t('.test_cases_placeholder')
      %p.mt-2.text-sm.text-gray-500= t('.test_cases_hint')

    %div
      = task_form.label :hints, class: "block text-sm font-medium leading-6 text-gray-900"
      .mt-2
        = task_form.text_area :hints,
          class: "block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",
          rows: 3,
          placeholder: t('.hints_placeholder')
      %p.mt-2.text-sm.text-gray-500= t('.hints_hint')

    %div
      = task_form.label :difficulty_level, class: "block text-sm font-medium leading-6 text-gray-900"
      .mt-2
        = task_form.select :difficulty_level,
          ProgrammingTask.difficulty_levels.map { |k, _| [t(".difficulty_levels.#{k}"), k] },
          { include_blank: t('.select_difficulty') },
          { class: "block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6" }

    %div
      = task_form.label :points, class: "block text-sm font-medium leading-6 text-gray-900"
      .mt-2
        = task_form.number_field :points,
          class: "block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",
          min: 0,
          step: 1,
          placeholder: t('.points_placeholder')
      %p.mt-2.text-sm.text-gray-500= t('.points_hint')

  .mt-6.flex.items-center.justify-end.gap-x-3
    = task_form.submit t('common.save'),
      class: "inline-flex items-center gap-1.5 rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600"
