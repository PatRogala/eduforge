%header.bg-white.border-b.border-gray-200.shadow-sm
  .flex.justify-between.items-center.px-4.py-3
    .flex.items-center
      %button.p-2.mr-2.rounded-md.hover:bg-gray-100.focus:outline-none
        = lucide_icon("menu")
      .flex.items-center
        .h-8.w-8.bg-indigo-600.rounded-md.flex.items-center.justify-center.mr-2
          %span.text-white.font-bold.text-lg= t("app.name")[0] # Or add logo here
        %span.font-bold.text-lg.text-gray-800= t("app.name")
    .hidden.md:flex.items-center.bg-gray-100.px-3.rounded-lg.flex-1.max-w-xl.mx-4{class: "py-1.5"}
      = lucide_icon("search", class: "text-gray-500 h-5 mr-2")
      %input.bg-transparent.border-none.outline-none.w-full.text-sm{placeholder: t(".search.placeholder"), type: "text"}/
    .flex.items-center.space-x-4
      %button.p-2.rounded-full.hover:bg-gray-100
        = lucide_icon("search", class: "text-gray-600 h-5")
      - if logged_in?
        = link_to edit_user_registration_path, class: "flex items-center" do
          - if user_avatar.attached?
            = image_tag user_avatar, class: "w-8 h-8 rounded-full"
          - else
            .w-8.h-8.rounded-full.bg-indigo-100.flex.items-center.justify-center
              = lucide_icon("user", class: "text-indigo-600 h-5")
      - else
        = link_to t(".sign_in"), new_user_session_path, class: "px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors"
        = link_to t(".sign_up"), new_user_registration_path, class: "px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg transition-colors"
