---
description:
globs:
alwaysApply: true
---
# Ruby Style Guide Standards

All Ruby code must follow the [community Ruby Style Guide](mdc:https:/github.com/rubocop/ruby-style-guide).

## Core Guidelines

### Formatting
- Use 2 spaces for indentation
- Keep lines under 120 characters
- Use empty lines to group related logic
- Use spaces around operators and after commas

### Naming Conventions
- Use `snake_case` for methods and variables
- Use `CamelCase` for classes and modules
- Use `SCREAMING_SNAKE_CASE` for constants
- Prefix boolean methods with question mark (e.g., `valid?`)
- Prefix destructive methods with bang (e.g., `save!`)

### Code Organization
- Keep methods focused and small (under 15 lines preferred)
- Use meaningful and descriptive names
- Avoid complex metaprogramming
- Follow single responsibility principle

### Ruby Idioms
```ruby
# Prefer
result = collection.map { |item| item.transform }
             .select { |item| item.valid? }
             .sort_by(&:priority)

# Over
result = []
collection.each do |item|
  transformed = item.transform
  result << transformed if transformed.valid?
end
result.sort! { |a, b| a.priority <=> b.priority }
```

### Documentation
- Add RuboCop documentation comments for classes
- Document complex methods
- Use inline comments sparingly, only for non-obvious code
- Keep documentation up to date with code changes
